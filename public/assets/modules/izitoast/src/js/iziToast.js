!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.iziToast=t(e)}("undefined"!=typeof global?global:window||this.window||this.global,function(e){"use strict";var t={},c="iziToast",n=(document.querySelector("body"),/Mobi/.test(navigator.userAgent)?!0:!1),i=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),a="undefined"!=typeof InstallTrigger,s="ontouchstart"in document.documentElement,r=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],o={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},l=568,h={};t.children={};var u={id:null,"class":"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent){var d=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),c};d.prototype=window.Event.prototype,window.CustomEvent=d}var f=function(e,t,c){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(c,e[n],n,e);else if(e)for(var i=0,a=e.length;a>i;i++)t.call(c,e[i],i,e)},v=function(e,t){var c={};return f(e,function(t,n){c[n]=e[n]}),f(t,function(e,n){c[n]=t[n]}),c},m=function(e){var t=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=e;c.firstChild;)t.appendChild(c.firstChild);return t},p=function(e){var t=btoa(encodeURIComponent(e));return t.replace(/=/g,"")},g=function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)?!0:!1},z=function(e){try{return btoa(atob(e))==e}catch(t){return!1}},C=function(){return{move:function(e,t,n,s){var r,o=.3,l=180;0!==s&&(e.classList.add(c+"-dragged"),e.style.transform="translateX("+s+"px)",s>0?(r=(l-s)/l,o>r&&t.hide(v(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag")):(r=(l+s)/l,o>r&&t.hide(v(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag")),e.style.opacity=r,o>r&&((i||a)&&(e.style.left=s+"px"),e.parentNode.style.opacity=o,this.stopMoving(e,null)))},startMoving:function(e,t,c,n){n=n||window.event;var i=s?n.touches[0].clientX:n.clientX,a=e.style.transform.replace("px)","");a=a.replace("translateX(","");var r=i-a;c.transitionIn&&e.classList.remove(c.transitionIn),c.transitionInMobile&&e.classList.remove(c.transitionInMobile),e.style.transition="",s?document.ontouchmove=function(n){n.preventDefault(),n=n||window.event;var i=n.touches[0].clientX,a=i-r;C.move(e,t,c,a)}:document.onmousemove=function(n){n.preventDefault(),n=n||window.event;var i=n.clientX,a=i-r;C.move(e,t,c,a)}},stopMoving:function(e,t){s?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(c+"-dragged")&&(e.classList.remove(c+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){e.style.transition=""},400))}}}();return t.setSetting=function(e,c,n){t.children[e][c]=n},t.getSetting=function(e,c){return t.children[e][c]},t.destroy=function(){f(document.querySelectorAll("."+c+"-overlay"),function(e,t){e.remove()}),f(document.querySelectorAll("."+c+"-wrapper"),function(e,t){e.remove()}),f(document.querySelectorAll("."+c),function(e,t){e.remove()}),this.children={},document.removeEventListener(c+"-opened",{},!1),document.removeEventListener(c+"-opening",{},!1),document.removeEventListener(c+"-closing",{},!1),document.removeEventListener(c+"-closed",{},!1),document.removeEventListener("keyup",{},!1),h={}},t.settings=function(e){t.destroy(),h=e,u=v(u,e||{})},f(o,function(e,c){t[c]=function(t){var c=v(h,t||{});c=v(e,c||{}),this.show(c)}}),t.progress=function(e,t,n){var i=this,a=t.getAttribute("data-iziToast-ref"),s=v(this.children[a],e||{}),r=t.querySelector("."+c+"-progressbar div");return{start:function(){"undefined"==typeof s.time.REMAINING&&(t.classList.remove(c+"-reseted"),null!==r&&(r.style.transition="width "+s.timeout+"ms "+s.progressBarEasing,r.style.width="0%"),s.time.START=(new Date).getTime(),s.time.END=s.time.START+s.timeout,s.time.TIMER=setTimeout(function(){clearTimeout(s.time.TIMER),t.classList.contains(c+"-closing")||(i.hide(s,t,"timeout"),"function"==typeof n&&n.apply(i))},s.timeout),i.setSetting(a,"time",s.time))},pause:function(){if("undefined"!=typeof s.time.START&&!t.classList.contains(c+"-paused")&&!t.classList.contains(c+"-reseted")){if(t.classList.add(c+"-paused"),s.time.REMAINING=s.time.END-(new Date).getTime(),clearTimeout(s.time.TIMER),i.setSetting(a,"time",s.time),null!==r){var e=window.getComputedStyle(r),o=e.getPropertyValue("width");r.style.transition="none",r.style.width=o}"function"==typeof n&&setTimeout(function(){n.apply(i)},10)}},resume:function(){"undefined"!=typeof s.time.REMAINING?(t.classList.remove(c+"-paused"),null!==r&&(r.style.transition="width "+s.time.REMAINING+"ms "+s.progressBarEasing,r.style.width="0%"),s.time.END=(new Date).getTime()+s.time.REMAINING,s.time.TIMER=setTimeout(function(){clearTimeout(s.time.TIMER),t.classList.contains(c+"-closing")||(i.hide(s,t,"timeout"),"function"==typeof n&&n.apply(i))},s.time.REMAINING),i.setSetting(a,"time",s.time)):this.start()},reset:function(){clearTimeout(s.time.TIMER),delete s.time.REMAINING,i.setSetting(a,"time",s.time),t.classList.add(c+"-reseted"),t.classList.remove(c+"-paused"),null!==r&&(r.style.transition="none",r.style.width="100%"),"function"==typeof n&&setTimeout(function(){n.apply(i)},10)}}},t.hide=function(e,t,i){"object"!=typeof t&&(t=document.querySelector(t));var a=this,s=v(this.children[t.getAttribute("data-iziToast-ref")],e||{});s.closedBy=i||null,delete s.time.REMAINING,t.classList.add(c+"-closing"),function(){var e=document.querySelector("."+c+"-overlay");if(null!==e){var t=e.getAttribute("data-iziToast-ref");t=t.split(",");var n=t.indexOf(String(s.ref));-1!==n&&t.splice(n,1),e.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(e.classList.remove("fadeIn"),e.classList.add("fadeOut"),setTimeout(function(){e.remove()},700))}}(),s.transitionIn&&t.classList.remove(s.transitionIn),s.transitionInMobile&&t.classList.remove(s.transitionInMobile),n||window.innerWidth<=l?s.transitionOutMobile&&t.classList.add(s.transitionOutMobile):s.transitionOut&&t.classList.add(s.transitionOut);var r=t.parentNode.offsetHeight;t.parentNode.style.height=r+"px",t.style.pointerEvents="none",(!n||window.innerWidth>l)&&(t.parentNode.style.transitionDelay="0.2s");try{var o=new CustomEvent(c+"-closing",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(o)}catch(h){console.warn(h)}setTimeout(function(){t.parentNode.style.height="0px",t.parentNode.style.overflow="",setTimeout(function(){delete a.children[s.ref],t.parentNode.remove();try{var e=new CustomEvent(c+"-closed",{detail:s,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(n){console.warn(n)}"undefined"!=typeof s.onClosed&&s.onClosed.apply(null,[s,t,i])},1e3)},200),"undefined"!=typeof s.onClosing&&s.onClosing.apply(null,[s,t,i])},t.show=function(e){var i=this,a=v(h,e||{});if(a=v(u,a),a.time={},null===a.id&&(a.id=p(a.title+a.message+a.color)),1===a.displayMode||"once"==a.displayMode)try{if(document.querySelectorAll("."+c+"#"+a.id).length>0)return!1}catch(o){console.warn("["+c+"] Could not find an element with this selector: #"+a.id+". Try to set an valid id.")}if(2===a.displayMode||"replace"==a.displayMode)try{f(document.querySelectorAll("."+c+"#"+a.id),function(e,t){i.hide(a,e,"replaced")})}catch(o){console.warn("["+c+"] Could not find an element with this selector: #"+a.id+". Try to set an valid id.")}a.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[a.ref]=a;var d={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:a.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};d.toast.setAttribute("data-iziToast-ref",a.ref),d.toast.appendChild(d.toastBody),d.toastCapsule.appendChild(d.toast),function(){if(d.toast.classList.add(c),d.toast.classList.add(c+"-opening"),d.toastCapsule.classList.add(c+"-capsule"),d.toastBody.classList.add(c+"-body"),d.toastTexts.classList.add(c+"-texts"),n||window.innerWidth<=l?a.transitionInMobile&&d.toast.classList.add(a.transitionInMobile):a.transitionIn&&d.toast.classList.add(a.transitionIn),a["class"]){var e=a["class"].split(" ");f(e,function(e,t){d.toast.classList.add(e)})}a.id&&(d.toast.id=a.id),a.rtl&&(d.toast.classList.add(c+"-rtl"),d.toast.setAttribute("dir","rtl")),a.layout>1&&d.toast.classList.add(c+"-layout"+a.layout),a.balloon&&d.toast.classList.add(c+"-balloon"),a.maxWidth&&(isNaN(a.maxWidth)?d.toast.style.maxWidth=a.maxWidth:d.toast.style.maxWidth=a.maxWidth+"px"),(""!==a.theme||"light"!==a.theme)&&d.toast.classList.add(c+"-theme-"+a.theme),a.color&&(g(a.color)?d.toast.style.background=a.color:d.toast.classList.add(c+"-color-"+a.color)),a.backgroundColor&&(d.toast.style.background=a.backgroundColor,a.balloon&&(d.toast.style.borderColor=a.backgroundColor))}(),function(){a.image&&(d.cover.classList.add(c+"-cover"),d.cover.style.width=a.imageWidth+"px",z(a.image.replace(/ /g,""))?d.cover.style.backgroundImage="url(data:image/png;base64,"+a.image.replace(/ /g,"")+")":d.cover.style.backgroundImage="url("+a.image+")",a.rtl?d.toastBody.style.marginRight=a.imageWidth+10+"px":d.toastBody.style.marginLeft=a.imageWidth+10+"px",d.toast.appendChild(d.cover))}(),function(){a.close?(d.buttonClose=document.createElement("button"),d.buttonClose.type="button",d.buttonClose.classList.add(c+"-close"),d.buttonClose.addEventListener("click",function(e){e.target;i.hide(a,d.toast,"button")}),d.toast.appendChild(d.buttonClose)):a.rtl?d.toast.style.paddingLeft="18px":d.toast.style.paddingRight="18px"}(),function(){a.progressBar&&(d.progressBar=document.createElement("div"),d.progressBarDiv=document.createElement("div"),d.progressBar.classList.add(c+"-progressbar"),d.progressBarDiv.style.background=a.progressBarColor,d.progressBar.appendChild(d.progressBarDiv),d.toast.appendChild(d.progressBar)),a.timeout&&(a.pauseOnHover&&!a.resetOnHover&&(d.toast.addEventListener("mouseenter",function(e){i.progress(a,d.toast).pause()}),d.toast.addEventListener("mouseleave",function(e){i.progress(a,d.toast).resume()})),a.resetOnHover&&(d.toast.addEventListener("mouseenter",function(e){i.progress(a,d.toast).reset()}),d.toast.addEventListener("mouseleave",function(e){i.progress(a,d.toast).start()})))}(),function(){a.iconUrl?(d.icon.setAttribute("class",c+"-icon"),d.icon.setAttribute("src",a.iconUrl)):a.icon&&(d.icon.setAttribute("class",c+"-icon "+a.icon),a.iconText&&d.icon.appendChild(document.createTextNode(a.iconText)),a.iconColor&&(d.icon.style.color=a.iconColor)),(a.icon||a.iconUrl)&&(a.rtl?d.toastBody.style.paddingRight="33px":d.toastBody.style.paddingLeft="33px",d.toastBody.appendChild(d.icon))}(),function(){a.title.length>0&&(d.strong=document.createElement("strong"),d.strong.classList.add(c+"-title"),d.strong.appendChild(m(a.title)),d.toastTexts.appendChild(d.strong),a.titleColor&&(d.strong.style.color=a.titleColor),a.titleSize&&(isNaN(a.titleSize)?d.strong.style.fontSize=a.titleSize:d.strong.style.fontSize=a.titleSize+"px"),a.titleLineHeight&&(isNaN(a.titleSize)?d.strong.style.lineHeight=a.titleLineHeight:d.strong.style.lineHeight=a.titleLineHeight+"px")),a.message.length>0&&(d.p=document.createElement("p"),d.p.classList.add(c+"-message"),d.p.appendChild(m(a.message)),d.toastTexts.appendChild(d.p),a.messageColor&&(d.p.style.color=a.messageColor),a.messageSize&&(isNaN(a.titleSize)?d.p.style.fontSize=a.messageSize:d.p.style.fontSize=a.messageSize+"px"),a.messageLineHeight&&(isNaN(a.titleSize)?d.p.style.lineHeight=a.messageLineHeight:d.p.style.lineHeight=a.messageLineHeight+"px")),a.title.length>0&&a.message.length>0&&(a.rtl?d.strong.style.marginLeft="10px":2===a.layout||a.rtl||(d.strong.style.marginRight="10px"))}(),d.toastBody.appendChild(d.toastTexts);var _;!function(){a.inputs.length>0&&(d.inputs.classList.add(c+"-inputs"),f(a.inputs,function(e,t){d.inputs.appendChild(m(e[0])),_=d.inputs.childNodes,_[t].classList.add(c+"-inputs-child"),e[3]&&setTimeout(function(){_[t].focus()},300),_[t].addEventListener(e[1],function(t){var c=e[2];return c(i,d.toast,this,t)})}),d.toastBody.appendChild(d.inputs))}(),function(){a.buttons.length>0&&(d.buttons.classList.add(c+"-buttons"),f(a.buttons,function(e,t){d.buttons.appendChild(m(e[0]));var n=d.buttons.childNodes;n[t].classList.add(c+"-buttons-child"),e[2]&&setTimeout(function(){n[t].focus()},300),n[t].addEventListener("click",function(t){t.preventDefault();var c=e[1];return c(i,d.toast,this,t,_)})})),d.toastBody.appendChild(d.buttons)}(),a.message.length>0&&(a.inputs.length>0||a.buttons.length>0)&&(d.p.style.marginBottom="0"),(a.inputs.length>0||a.buttons.length>0)&&(a.rtl?d.toastTexts.style.marginLeft="10px":d.toastTexts.style.marginRight="10px",a.inputs.length>0&&a.buttons.length>0&&(a.rtl?d.inputs.style.marginLeft="8px":d.inputs.style.marginRight="8px")),function(){d.toastCapsule.style.visibility="hidden",setTimeout(function(){var e=d.toast.offsetHeight,t=d.toast.currentStyle||window.getComputedStyle(d.toast),c=t.marginTop;c=c.split("px"),c=parseInt(c[0]);var n=t.marginBottom;n=n.split("px"),n=parseInt(n[0]),d.toastCapsule.style.visibility="",d.toastCapsule.style.height=e+n+c+"px",setTimeout(function(){d.toastCapsule.style.height="auto",a.target&&(d.toastCapsule.style.overflow="visible")},500),a.timeout&&i.progress(a,d.toast).start()},100)}(),function(){var e=a.position;if(a.target)d.wrapper=document.querySelector(a.target),d.wrapper.classList.add(c+"-target"),a.targetFirst?d.wrapper.insertBefore(d.toastCapsule,d.wrapper.firstChild):d.wrapper.appendChild(d.toastCapsule);else{if(-1==r.indexOf(a.position))return void console.warn("["+c+"] Incorrect position.\nIt can be â€º "+r);e=n||window.innerWidth<=l?"bottomLeft"==a.position||"bottomRight"==a.position||"bottomCenter"==a.position?c+"-wrapper-bottomCenter":"topLeft"==a.position||"topRight"==a.position||"topCenter"==a.position?c+"-wrapper-topCenter":c+"-wrapper-center":c+"-wrapper-"+e,d.wrapper=document.querySelector("."+c+"-wrapper."+e),d.wrapper||(d.wrapper=document.createElement("div"),d.wrapper.classList.add(c+"-wrapper"),d.wrapper.classList.add(e),document.body.appendChild(d.wrapper)),"topLeft"==a.position||"topCenter"==a.position||"topRight"==a.position?d.wrapper.insertBefore(d.toastCapsule,d.wrapper.firstChild):d.wrapper.appendChild(d.toastCapsule)}isNaN(a.zindex)?console.warn("["+c+"] Invalid zIndex."):d.wrapper.style.zIndex=a.zindex}(),function(){a.overlay&&(null!==document.querySelector("."+c+"-overlay.fadeIn")?(d.overlay=document.querySelector("."+c+"-overlay"),d.overlay.setAttribute("data-iziToast-ref",d.overlay.getAttribute("data-iziToast-ref")+","+a.ref),isNaN(a.zindex)||null===a.zindex||(d.overlay.style.zIndex=a.zindex-1)):(d.overlay.classList.add(c+"-overlay"),d.overlay.classList.add("fadeIn"),d.overlay.style.background=a.overlayColor,d.overlay.setAttribute("data-iziToast-ref",a.ref),isNaN(a.zindex)||null===a.zindex||(d.overlay.style.zIndex=a.zindex-1),document.querySelector("body").appendChild(d.overlay)),a.overlayClose?(d.overlay.removeEventListener("click",{}),d.overlay.addEventListener("click",function(e){i.hide(a,d.toast,"overlay")})):d.overlay.removeEventListener("click",{}))}(),function(){if(a.animateInside){d.toast.classList.add(c+"-animateInside");var e=[200,100,300];("bounceInLeft"==a.transitionIn||"bounceInRight"==a.transitionIn)&&(e=[400,200,400]),a.title.length>0&&setTimeout(function(){d.strong.classList.add("slideIn")},e[0]),a.message.length>0&&setTimeout(function(){d.p.classList.add("slideIn")},e[1]),(a.icon||a.iconUrl)&&setTimeout(function(){d.icon.classList.add("revealIn")},e[2]);var t=150;a.buttons.length>0&&d.buttons&&setTimeout(function(){f(d.buttons.childNodes,function(e,c){setTimeout(function(){e.classList.add("revealIn")},t),t+=150})},a.inputs.length>0?150:0),a.inputs.length>0&&d.inputs&&(t=150,f(d.inputs.childNodes,function(e,c){setTimeout(function(){e.classList.add("revealIn")},t),t+=150}))}}(),a.onOpening.apply(null,[a,d.toast]);try{var y=new CustomEvent(c+"-opening",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(y)}catch(b){console.warn(b)}setTimeout(function(){d.toast.classList.remove(c+"-opening"),d.toast.classList.add(c+"-opened");try{var e=new CustomEvent(c+"-opened",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(t){console.warn(t)}a.onOpened.apply(null,[a,d.toast])},1e3),a.drag&&(s?(d.toast.addEventListener("touchstart",function(e){C.startMoving(this,i,a,e)},!1),d.toast.addEventListener("touchend",function(e){C.stopMoving(this,e)},!1)):(d.toast.addEventListener("mousedown",function(e){e.preventDefault(),C.startMoving(this,i,a,e)},!1),d.toast.addEventListener("mouseup",function(e){e.preventDefault(),C.stopMoving(this,e)},!1))),a.closeOnEscape&&document.addEventListener("keyup",function(e){e=e||window.event,27==e.keyCode&&i.hide(a,d.toast,"esc")}),a.closeOnClick&&d.toast.addEventListener("click",function(e){i.hide(a,d.toast,"toast")}),i.toast=d.toast},t});